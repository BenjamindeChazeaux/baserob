<!-- Provider Card -->
<div class="action-card provider-card" 
     data-provider="<%= provider[:name].downcase %>"
     data-controller="flip-card"
     data-action="click->flip-card#flip">
  <!-- Face avant -->
  <div class="card-front">
    <div class="card-header">
      <h3><%= provider[:name].capitalize %></h3>
    </div>
    <div class="score-display">
      <div class="score-circle <%= score_color_class(provider[:global_score]) %>">
        <span class="score-value"><%= provider[:global_score].round %>%</span>
      </div>
      <p class="score-label">Score global</p>
    </div>
  </div>
  
  <!-- Face arriÃ¨re -->
  <div class="card-back">
    <div class="card-header">
      <h3>Details for <%= provider[:name].capitalize %></h3>
    </div>
    <div class="details-content">
      <p>Here are the details of the analysis for this AI provider:</p>
      <ul>
        <li><strong>Position score</strong>: <%= provider[:position_score].round(2) %>%</li>
        <li><strong>Reference score</strong>: <%= provider[:reference_score].round(2) %>%</li>
        <li><strong>URL presence</strong>: <%= provider[:url_presence] ? "Yes" : "No" %></li>
      </ul>
      <p class="tip">Click again to return to the summary</p>
    </div>
  </div>
</div>

<style>
  .provider-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    height: 300px;
    perspective: 1000px;
  }

  .card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    padding: 1.5rem;
    backface-visibility: hidden;
    transition: transform 0.6s ease;
    border-radius: 16px;
    background: white;
  }

  .card-back {
    transform: rotateY(180deg);
  }

  .action-card.flip .card-front {
    transform: rotateY(180deg);
  }

  .action-card.flip .card-back {
    transform: rotateY(0);
  }

  .card-header {
    border-bottom: 1px solid #E5E7EB;
    padding-bottom: 1rem;
    margin-bottom: 1rem;
  }

  .card-header h3 {
    margin: 0;
    color: #111827;
    font-size: 1.25rem;
  }

  .score-display {
    text-align: center;
  }

  .score-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    background: #2563eb;
    color: white;
  }

  .score-value {
    font-size: 1.5rem;
    font-weight: bold;
  }

  .score-label {
    color: #6B7280;
    margin: 0;
  }

  .details-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .details-content ul {
    padding-left: 1.5rem;
  }

  .tip {
    font-size: 0.875rem;
    color: #6B7280;
    font-style: italic;
    margin-top: auto;
    text-align: center;
  }
</style>
